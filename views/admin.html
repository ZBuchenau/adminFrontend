
<div class="header">
    <input type="button" class="btn btn-default logout" id="logout" name="name" value="logout" ng-click="ac.logout()">
</div>


<div class="adminBody">

    <div class="sideBar">

    </div>

    <div class="visuals">
        <div class="tacticFormsBox">

            <!-- *************************************************************************** -->
            <!-- CLIENT INFO FORM -->
            <!-- *************************************************************************** -->
            <div class="mediaPlanDD">
                <select ng-model="ac.selectedItem" ng-change="ac.selectItemChanged()">
                    <option value="">Create/Select a Plan</option>
                    <option ng-repeat="item in ac.accounts track by $index" value={{item.id}}>{{item.name}}</option>
                </select>
            </div>

            <form class="tactic clientInfo" ng-submit="ac.clientSubmit(ac.mediaPlan)" ng-init="clientInfoOpen = true" ng-show="clientInfoOpen" method="post">
                <label for="clientName">Client Name</label>
                <input type="text" class="form-control" id="clientName" placeholder="Client Name" ng-model="ac.mediaPlan.clientName" required>

                <label for="monthlyBudget">Monthly Budget</label>
                <input type="number" class="form-control" id="monthlyBudget" placeholder="Monthly Budget" ng-model="ac.mediaPlan.clientMonthlyBudget" required>

                <label for="year">Media Plan Year</label>
                <input type="number" class="form-control" id="year" placeholder="Year" ng-model="ac.mediaPlan.year" required>

                <button class="clientSubmit" type="submit">Submit</button>
            </form>

        </div>


        <!-- *************************************************************************** -->
        <!-- PIE CHART -->
        <!-- *************************************************************************** -->

        <div class="pieWrapper">
            <h2 class="pieTitle">{{ac.mediaPlan.clientName}}  {{ac.mediaPlan.year}}</h2>
            <!-- <div class="svgWrapper"> -->
            <pie-chart pie-data="ac.data"></pie-chart>
            <!-- </div> -->
        </div>


        <!-- *************************************************************************** -->
        <!-- MEDIA PLAN TABLE -->
        <!-- *************************************************************************** -->
        <div class="mediaPlanTable">
            <h3 class="tableTitle">Media Plan By Tactic</h3>
            <h4 ng-class="{underBudget: ac.underBudget, overBudget: ac.overBudget}">
              {{ac.spendToBudget}}
            </h4>

            <!-- PPC TABLE -->
            <table class="tacticTable" id="ppcTactics">
                <thead>
                    <h4>PPC Tactics</h4>
                    <th>Provider</th>
                    <th>Tactic</th>
                    <th>Monthly Spend</th>
                    <th>Annual Total</th>
                </thead>

                <tbody>
                    <tr ng-repeat="item in ac.officialMediaPlan[0]">
                        <td>{{item.provider_name}}</td>
                        <td>{{item.tactic_name}}</td>
                        <td>${{item.monthly_spend}}</td>
                        <td>${{item.monthly_spend*12}}</td>
                        <td>
                            <button type="button" name="button">Edit</button>
                        </td>
                        <td>
                            <button type="submit" name="button" ng-click="ac.deleteTactic(this.item, 'ppc')" value="">Delete</button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <form class="addTacticForm" ng-submit="ac.submitNewTactic(ac.ppcTactic, 'ppcTactic')" ng-show="ac.ppcFormShow" method="post">
                <input type="text" id="ProviderName" placeholder="Provider Name" ng-model="ac.ppcTactic.providerName" required>
                <input type="text" id="tacticName" placeholder="Tactic Name" ng-model="ac.ppcTactic.tacticName" required>
                <input type="number" id="monthlySpend" placeholder="Monthly Spend" ng-model="ac.ppcTactic.tacticSpend" required>
                <input class="submitTactic" type="submit" name="button" ng-click="ac.addNewTactic('ppc', ac.selectedItem)">
            </form>
            <button class="addTacticButton" type="button" name="button" ng-click="ac.ppcFormShow = !ac.ppcFormShow">+ New Tactic</button>


            <br></br>

            <!-- CPM TABLE -->
            <table class="tacticTable" id="cpmTactics">
                <thead>
                    <h4>CPM Tactics</h4>
                    <th>Provider</th>
                    <th>Tactic</th>
                    <th>Monthly Spend</th>
                    <th>CPM</th>
                    <th>Contracted Impressions</th>
                    <th>Annual Total</th>
                </thead>

                <tbody>
                    <tr ng-repeat="item in ac.officialMediaPlan[1]">
                        <td>{{item.provider_name}}</td>
                        <td>{{item.tactic_name}}</td>
                        <td>${{item.monthly_spend}}</td>
                        <td>${{item.cost_per_thousand}}</td>
                        <td>{{(item.monthly_spend/item.cost_per_thousand) * 1000.00 | number : 0 }}</td>
                        <td>${{item.monthly_spend*12}}</td>
                        <td>
                            <button type="button" name="button">Edit</button>
                        </td>
                        <td>
                            <button type="button" name="button" ng-click="ac.deleteTactic(this.item, 'cpm')" value="">Delete</button>
                        </td>
                    </tr>


                </tbody>
            </table>
            <form class="addTacticForm" ng-submit="ac.submitNewTactic(ac.cpmTactic, 'cpmTactic')" ng-show="ac.cpmFormShow" method="post">
                <input type="text" id="ProviderName" placeholder="Provider Name" ng-model="ac.cpmTactic.providerName" required>
                <input type="text" id="tacticName" placeholder="Tactic Name" ng-model="ac.cpmTactic.tacticName" required>
                <input type="number" id="monthlySpend" placeholder="Monthly Spend" ng-model="ac.cpmTactic.tacticSpend" required>
                <input type="decimal" id="cpm" placeholder="CPM" ng-model="ac.cpmTactic.cost_per_thousand" required>
                <input class="submitTactic" type="submit" name="button" ng-click="ac.addNewTactic('cpm', ac.selectedItem)">
            </form>
            <button class="addTacticButton" type="button" name="button" ng-click="ac.cpmFormShow = !ac.cpmFormShow">+ New Tactic</button>


            <br></br>

            <!-- LISTINGS TABLE -->
            <table class="tacticTable" id="listingTactics">
                <thead>
                    <h4>Listing Tactics</h4>
                    <th>Provider</th>
                    <th>Tactic</th>
                    <th>Monthly Spend</th>
                    <th>Annual Total</th>
                </thead>

                <tbody>
                    <tr ng-repeat="item in ac.officialMediaPlan[2]">
                        <td>{{item.provider_name}}</td>
                        <td>{{item.tactic_name}}</td>
                        <td>${{item.monthly_spend}}</td>
                        <td>${{item.monthly_spend*12}}</td>
                        <td>
                            <button type="button" name="button">Edit</button>
                        </td>
                        <td>
                            <button type="button" name="button" ng-click="ac.deleteTactic(this.item, 'listings')" value="">Delete</button>
                        </td>
                    </tr>

                </tbody>
            </table>
            <form class="addTacticForm" ng-submit="ac.submitNewTactic(ac.listingTactic, 'listingTactic')" ng-show="ac.listingFormShow" method="post">
                <input type="text" id="ProviderName" placeholder="Provider Name" ng-model="ac.listingTactic.providerName" required>
                <input type="text" id="tacticName" placeholder="Tactic Name" ng-model="ac.listingTactic.tacticName" required>
                <input type="number" id="monthlySpend" placeholder="Monthly Spend" ng-model="ac.listingTactic.tacticSpend" required>
                <input class="submitTactic" type="submit" name="button" ng-click="ac.addNewTactic('listing', ac.selectedItem)">
            </form>
            <button class="addTacticButton" type="button" name="button" ng-click="ac.listingFormShow = !ac.listingFormShow">+ New Tactic</button>


            <br></br>

            <!-- EMAIL TABLE -->
            <table class="tacticTable" id="emailTactics">
                <thead>
                    <h4>Email Tactics</h4>
                    <th>Provider</th>
                    <th>Tactic</th>
                    <th>Monthly Spend</th>
                    <th>Annual Total</th>
                </thead>

                <tbody>
                    <tr ng-repeat="item in ac.officialMediaPlan[3]">
                        <td>{{item.provider_name}}</td>
                        <td>{{item.tactic_name}}</td>
                        <td>${{item.monthly_spend}}</td>
                        <td>${{item.monthly_spend*12}}</td>
                        <td>
                            <button type="button" name="button">Edit</button>
                        </td>
                        <td>
                            <button type="button" name="button" ng-click="ac.deleteTactic(this.item, 'email')" value="">Delete</button>
                        </td>
                    </tr>

                </tbody>
            </table>
            <form class="addTacticForm" ng-submit="ac.submitNewTactic(ac.emailTactic, 'emailTactic')" ng-show="ac.emailFormShow" method="post">
                <input type="text" id="ProviderName" placeholder="Provider Name" ng-model="ac.emailTactic.providerName" required>
                <input type="text" id="tacticName" placeholder="Tactic Name" ng-model="ac.emailTactic.tacticName" required>
                <input type="number" id="monthlySpend" placeholder="Monthly Spend" ng-model="ac.emailTactic.tacticSpend" required>
                <input class="submitTactic" type="submit" name="button" ng-click="ac.addNewTactic('email', ac.selectedItem)">
            </form>
            <button class="addTacticButton" type="button" name="button" ng-click="ac.emailFormShow = !ac.emailFormShow">+ New Tactic</button>


            <br></br>

            <!-- FLAT-FEE TABLE -->
            <table class="tacticTable" id="flatFeeTactics">
                <thead>
                    <h4>Flat-Fee Tactics</h4>
                    <th>Provider</th>
                    <th>Tactic</th>
                    <th>Monthly Spend</th>
                    <th>Annual Total</th>
                </thead>

                <tbody>
                    <tr ng-repeat="item in ac.officialMediaPlan[4]">
                        <td>{{item.provider_name}}</td>
                        <td>{{item.tactic_name}}</td>
                        <td>${{item.monthly_spend}}</td>
                        <td>${{item.monthly_spend*12}}</td>
                        <td>
                            <button type="button" ng-click="ac.submitNewTactic(this.item)" name="button">Edit</button>
                        </td>
                        <td>
                            <button type="button" name="button" ng-click="ac.deleteTactic(this.item, 'flat_fee')">Delete</button>
                        </td>
                    </tr>

                </tbody>
            </table>
            <form class="addTacticForm" ng-submit="ac.submitNewTactic(ac.flatFeeTactic, 'flatFeeTactic')" ng-show="ac.flatFeeFormShow" method="post">
                <input type="text" id="ProviderName" placeholder="Provider Name" ng-model="ac.flatFeeTactic.providerName" required>
                <input type="text" id="tacticName" placeholder="Tactic Name" ng-model="ac.flatFeeTactic.tacticName" required>
                <input type="number" id="monthlySpend" placeholder="Monthly Spend" ng-model="ac.flatFeeTactic.tacticSpend" required>
                <input class="submitTactic" type="submit" name="button" ng-click="ac.addNewTactic('flatFee', ac.selectedItem)">
            </form>
            <button class="addTacticButton" type="button" name="button" ng-click="ac.flatFeeFormShow = !ac.flatFeeFormShow">+ New Tactic</button>

        </div>

        <!-- <test-directive my-data="{{ac.data}}"></test-directive> -->



    </div>
    <!-- adminBody div -->
